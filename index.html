<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cred — Launching Soon</title>
  <meta name="description" content="Cred measures the credibility of public voices. Pre-order early access." />
  <link rel="icon" type="image/png" href="images/favicon.png"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Nunito+Sans:wght@400;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

  <!-- ===== Header ===== -->
  <header class="header">
    <div class="header-left">
      <a class="logo" href="#top" aria-label="Cred home">
        <img src="images/cred-nav-logo.png" alt="Cred logo" class="logo-img" />
      </a>

      <button class="menu-btn" aria-controls="site-nav" aria-expanded="false"><span>Menu</span></button>

      <!-- LEFT NAV -->
      <nav id="site-nav" class="nav nav-left" aria-label="Primary">
        <a href="#top">Home</a>
        <a href="#contact" class="btn btn-ghost contact-link">Contact</a>
      </nav>
    </div>

    <!-- FAR RIGHT CTA -->
    <div class="header-right">
      <a href="#" id="preorderNav3" class="btn btn-accent btn-lg">Pre-Order Now</a>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <main id="top" class="hero" role="main">
    <div class="hero-inner">
      <div class="hero-copy">
        <h1 class="title">Cred</h1>
        <p class="tagline">We measure the credibility of public voices—so you know who to trust.</p>
        <div class="cta">
          <a href="#" id="preorderCta" class="btn btn-primary btn-lg">Pre-Order Now</a>
          <span class="note">Limited early access</span>
        </div>
      </div>

      <!-- ===== HERO PHONE — video demo ===== -->
      <div class="phone demo" aria-label="App demo">
        <div class="demo-stage" id="demoStage" aria-hidden="true">
          <video id="demoVideo"
                 class="demo-frame active"
                 poster="images/app1.png"
                 autoplay
                 muted
                 loop
                 playsinline
                 aria-label="Cred demo video">
            <source src="images/demo-video1.mp4" type="video/webm">
            Your browser does not support the video tag.
          </video>
        </div>

        <!-- BOTTOM caption/help text -->
        <div class="demo-ui">
          <div class="demo-caption" id="demoCaption">Cred — quick tour</div>
        </div>
      </div>
    </div>
    <div class="scroll-hint">Scroll</div>
  </main>


  <!-- ===== Scripts ===== -->
  <script>
    // --- Year ---
    document.getElementById('year').textContent = new Date().getFullYear();

    // --- Mobile menu toggle ---
    const menuBtn = document.querySelector('.menu-btn');
    const nav = document.getElementById('site-nav');
    menuBtn?.addEventListener('click', () => {
      const open = nav.classList.toggle('open');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
    nav?.addEventListener('click', (e) => {
      if (e.target.tagName === 'A' && nav.classList.contains('open')) {
        nav.classList.remove('open');
        menuBtn.setAttribute('aria-expanded','false');
      }
    });

    // --- Pre-order click-through (replace with checkout URL when ready) ---
    const PREORDER_URL = '#';
    ['preorderCta','preorderNav3','preorderFeatures']
      .map(id => document.getElementById(id)).filter(Boolean)
      .forEach(el => el.addEventListener('click', (e) => {
        e.preventDefault();
        if (PREORDER_URL === '#') {
          window.location.href = 'mailto:thecredapp@gmail.com?subject=Pre-Order%20Cred&body=Hi%20Cred%20team%2C%0A%0AI%27d%20like%20to%20pre-order%20early%20access.%20Please%20send%20details.%0A%0AThanks!';
        } else {
          window.location.href = PREORDER_URL;
        }
      }));

    // --- Pause video when offscreen for perf ---
    (function(){
      const phone = document.querySelector('.phone.demo');
      const video = document.getElementById('demoVideo');
      if (!('IntersectionObserver' in window) || !phone || !video) return;
      const io = new IntersectionObserver(entries=>{
        entries.forEach(e=>{
          if (e.isIntersecting) {
            video.play().catch(()=>{});
          } else {
            video.pause();
          }
        });
      }, { threshold: .4 });
      io.observe(phone);
    })();
  </script>
</body>
</html>
