<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Cred — Launching Soon</title>
  <meta name="description" content="Cred measures the credibility of public voices. Pre-order early access." />
  <link rel="icon" type="image/png" href="images/favicon.png"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Nunito+Sans:wght@400;600&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>

  <!-- ===== Header ===== -->
  <header class="header">
    <div class="header-left">
      <a class="logo" href="#top" aria-label="Cred home">
        <img src="images/cred-nav-logo.png" alt="Cred logo" class="logo-img" />
      </a>

      <button class="menu-btn" aria-controls="site-nav" aria-expanded="false" aria-label="Open menu">
        <span>Menu</span>
      </button>

      <nav id="site-nav" class="nav nav-left" aria-label="Primary">
        <a href="#top">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>

    <div class="header-right">
      <a href="#" id="preorderNav" class="btn btn-accent btn-lg">Pre-Order Now</a>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <main id="top" class="hero" role="main">
    <div class="hero-inner">
      <div class="hero-copy">
        <h1 class="title">Cred</h1>
        <p class="tagline">We measure the credibility of public voices—so you know who to trust.</p>
        <div class="cta">
          <a href="#" id="preorderCta" class="btn btn-primary btn-lg">Pre-Order Now</a>
          <span class="note">Limited early access</span>
        </div>
      </div>

      <div class="phone demo" aria-label="App demo">
        <div class="demo-stage" id="demoStage" aria-hidden="false">
          <video
            id="demoVideo"
            class="demo-frame active"
            poster="images/app1.png"
            preload="metadata"
            muted
            autoplay
            loop
            playsinline
            webkit-playsinline
          >
            <source src="images/demo-video1.mp4" type="video/mp4" />
            <source src="images/demo-video1.webm" type="video/webm" />
            Your browser does not support the video tag.
          </video>
        </div>
      </div>
    </div>
    <div class="scroll-hint">Scroll</div>
  </main>

  <!-- ===== About (revamped) ===== -->
  <section class="section about" id="about" aria-labelledby="about-title">
    <div class="about-bg" aria-hidden="true"></div>
    <div class="about-container">
      <div class="about-sticky">
        <h2 id="about-title" class="about-title">About the Platform</h2>
        <p class="about-lead">
          Know who to trust online. Cred turns claims into clear, evidence-backed credibility scores.
        </p>
      </div>

      <ul class="about-grid" role="list">
        <li class="about-card">
          <div class="badge" aria-hidden="true">1</div>
          <div class="card-body">
            <h3 class="card-title">Credibility Scores</h3>
            <p class="card-text">At-a-glance ratings for public figures that summarize historical accuracy.</p>
          </div>
        </li>

        <li class="about-card">
          <div class="badge" aria-hidden="true">2</div>
          <div class="card-body">
            <h3 class="card-title">Source-Backed</h3>
            <p class="card-text">Every claim links to reliable evidence. Tap through and audit the trail yourself.</p>
          </div>
        </li>

        <li class="about-card">
          <div class="badge" aria-hidden="true">3</div>
          <div class="card-body">
            <h3 class="card-title">Neutral & Transparent</h3>
            <p class="card-text">No bias, no pay-to-play. Scoring logic is consistent and traceable.</p>
          </div>
        </li>

        <li class="about-card">
          <div class="badge" aria-hidden="true">4</div>
          <div class="card-body">
            <h3 class="card-title">Instant & Simple</h3>
            <p class="card-text">Search anyone and view their track record in seconds—clean, fast, and clear.</p>
          </div>
        </li>
      </ul>
    </div>
  </section>

  <!-- ===== Pre-Order (clean, centered form) ===== -->
  <section class="section preorder" id="contact" aria-labelledby="preorder-title">
    <div class="preorder-wrap">
      <header class="preorder-head">
        <h2 id="preorder-title" class="preorder-title">Pre-Order Access</h2>
        <p class="preorder-sub">Want early access? Tell us where to reach you and we’ll follow up with next steps.</p>
      </header>

      <form id="preorderForm" class="preorder-form" action="https://script.google.com/macros/s/AKfycbzb1WC-QM0fpQ_Ofgxv7j50tPZ-9CpkXMi4xbbQxRT3L4_0cSGWYQgbn_7w-bIL-L_nPA/exec" method="post" novalidate>
        <div class="preorder-grid">
          <div class="field">
            <label for="name">Your name</label>
            <input id="name" name="name" type="text" placeholder="Mario Chalmbers" required>
          </div>
          <div class="field">
            <label for="email">Your email</label>
            <input id="email" name="email" type="email" placeholder="jane@gmail.com" required>
          </div>
        </div>

        <div class="field">
          <label for="usecase">Anything we should know?</label>
          <textarea id="usecase" name="usecase" rows="4" placeholder="Usecase, questions, etc..."></textarea>
        </div>

        <!-- Honeypot (keep hidden) -->
        <div style="position:absolute; left:-10000px; top:auto; width:1px; height:1px; overflow:hidden;">
          <label for="website">Leave this empty</label>
          <input id="website" name="website" type="text" autocomplete="off">
        </div>

        <div class="actions">
          <button class="btn btn-primary btn-pill" type="submit">Send</button>
        </div>

        <!-- Success/Fail message area -->
        <p id="preorderMsg" class="form-msg" aria-live="polite" style="margin-top:12px;"></p>
      </form>

    </div>
  </section>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <img src="images/cred-nav-logo.png" alt="Cred logo" class="logo-img" />
        <span>&copy; <span id="year"></span> Cred</span>
      </div>

      <div class="footer-center">
        <a class="footer-email" href="mailto:thecredapp@gmail.com">thecredapp@gmail.com</a>
      </div>

      <nav class="footer-nav" aria-label="Footer">
        <a href="#top">Home</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </footer>

  <!-- ===== Scripts ===== -->
  <script>
    // Year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Mobile menu
    const menuBtn = document.querySelector('.menu-btn');
    const nav = document.getElementById('site-nav');
    menuBtn?.addEventListener('click', () => {
      const open = nav.classList.toggle('open');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
    nav?.addEventListener('click', (e) => {
      if (e.target.tagName === 'A' && nav.classList.contains('open')) {
        nav.classList.remove('open');
        menuBtn.setAttribute('aria-expanded','false');
      }
    });

   // Preorder buttons → smooth scroll to form
    ['preorderCta','preorderNav']
      .map(id => document.getElementById(id)).filter(Boolean)
      .forEach(el => el.addEventListener('click', (e) => {
        e.preventDefault();
        const formSection = document.getElementById('contact');
        formSection?.scrollIntoView({ behavior: 'smooth' });
      }));


    // Video handling
    (function(){
      const phone = document.querySelector('.phone.demo');
      const video = document.getElementById('demoVideo');
      if (!video) return;

      video.muted = true;
      video.setAttribute('playsinline', '');
      video.setAttribute('webkit-playsinline', '');

      const tryPlay = () => video.play().catch(()=>{});
      if (document.readyState !== 'loading') tryPlay();
      else document.addEventListener('DOMContentLoaded', tryPlay);

      const gestureKick = () => { tryPlay(); document.removeEventListener('touchstart', gestureKick); document.removeEventListener('click', gestureKick); };
      document.addEventListener('touchstart', gestureKick, { passive: true });
      document.addEventListener('click', gestureKick);

      if ('IntersectionObserver' in window && phone) {
        const io = new IntersectionObserver(entries=>{
          entries.forEach(e=>{
            if (e.isIntersecting) tryPlay();
            else video.pause();
          });
        }, { threshold: 0.35 });
        io.observe(phone);
      }

      document.addEventListener('visibilitychange', () => {
        if (document.hidden) video.pause(); else tryPlay();
      });
    })();
  </script>
  <script>
  (function () {
    const form = document.getElementById('preorderForm');
    const msg  = document.getElementById('preorderMsg');
    if (!form) return;

    const endpoint = form.action;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      msg.textContent = 'Sending…';

      // Build URL-encoded body so Apps Script reads e.parameter
      const fd = new FormData(form);
      const body = new URLSearchParams(fd).toString();

      try {
        // Post as URL-encoded; use no-cors so it succeeds without CORS headers
        await fetch(endpoint, {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8' },
          body,
          mode: 'no-cors',
        });

        // Optimistic UX (Apps Script wrote the row)
        msg.textContent = 'Thanks! You will be emailed the next steps shortly!';
        form.reset();
      } catch (err) {
        console.error(err);
        msg.textContent = 'Hmm, something went wrong. Please try again or email thecredapp@gmail.com.';
      }
    });
  })();
</script>

</body>
</html>
